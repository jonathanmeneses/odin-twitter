<div class="card mb-3 tweet-card-max-width">
  <div class="card-body">
    <h5 class="card-title"><%= post.user.username %></h5>
    <p class="card-text"><%= post.content %></p>
    <div class="d-flex justify-content-between align-items-center">
      <% if post.likes.pluck(:user_id).include?(current_user.id)%>
        <%= button_to "Un-Like", post_like_path(post_id:post.id, id: post.likes.find_by(user_id: current_user.id)), method: :delete, class: "btn btn-primary" %>
      <% else%>
        <%= button_to "Like", post_likes_path(post), method: :post, class: "btn btn-primary" %>
      <%end%>
      <span id="like-count"><%=post.likes.count%> likes</span>
    </div>
    <%= render 'relationships/follow_functionality', user: post.user%>
  </div>
  <div class="card-footer">
    <h5>Add a Comment</h5>
    <%= form_with(model: [post, post.comments.build], local: true) do |form| %>
      <div class="form-group">
        <%= form.text_area :content, placeholder: "Write your comment here...", class: "form-control" %>
      </div>
      <%= form.submit "Add Comment", class: "btn btn-primary" %>
    <% end %>
  </div>
</div>